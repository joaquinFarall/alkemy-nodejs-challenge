<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <%- include('./partials/header') %>
    <%- include('./partials/messages') %>
    
    <div class="container index-container m-auto mt-5 p-5 bg-light">
        <div class="row">
            <div class="col-md-6 m-auto text-center">
                <span>Bienvenido!</span>
                <h2 class="text-center text-primary"><%= user.fullname %></h2>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-md-6 m-auto">
                <span>Su saldo actual es:</span>
                <h1 class="text-center text-primary">$<%= user.balance %></h1>
            </div>
        </div>
    </div>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md text-center d-grid gap-2 p-3 m-2">
                <a href="/extraer" class="btn btn-primary">Extraer dinero</a>
            </div>
            <div class="col-md text-center d-grid gap-2 p-3 m-2">
                <a href="/depositar" class="btn btn-primary">Depositar dinero</a>
            </div>
        </div>
    </div>

    <div class="container p-3 index-container bg-light mt-5">
        <div class="row">
            <h3 class="mb-3">Ultimas transacciones</h3>
        </div>
        <div class="row">
            <div class="col-md-12 m-auto">
                <table class="table table-light table-hover">
                    <tr>
                        <th>Fecha</th>
                        <th>Monto</th>
                        <th>Tipo de movimiento</th>
                    </tr>
                    <% transactions.forEach( (transaction) => { %>
                        <tr>
                            <td><%= transaction.date %></td>
                            <td>$<%= transaction.amount %></td>
                            <td><%= transaction.type %></td>
                        </tr>
                    <% }) %>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 text-center d-grid gap-2 m-2">
                <a href="/transacciones" class="btn btn-primary">Ver todas las transacciones</a>
            </div>
        </div>
    </div>

    <%- include('./partials/footer') %>
    <!-- BOOTSTRAP -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
</body>

</html>